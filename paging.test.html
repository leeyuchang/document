<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

</head>

<body>
  <input type="text" id="inputedPage">
  <input id="btn" type="button" value="Click">

  <script>
    let content = [];
    document.getElementById('btn').addEventListener('click', function (e) {
      let inputedPage = document.getElementById('inputedPage').value - 1;  /** Spring Data is Zero Index(1 substract)*/
      fetch(`http://localhost:8080/boards/page?page=${inputedPage}&size=3`)
        .then(function (response) { return response.json(); })
        .then(function (data) {

          log('data.content',data.content);

          content = data.content;

          let prevPage = null;
          let nextPage = null;

          let totalPageNum = data.totalPages;
          log('totalPageNum:', totalPageNum);

          let pageList = [];

          const currentPage = data.pageable;
          const currentPageNum = currentPage.pageNumber;
          log('currentPageNum:', currentPageNum);

          let endPageNum = Math.ceil(currentPageNum / data.size) * data.size;
          const startPageNum = endPageNum - (data.size - 1);

          log('startPageNum:', startPageNum);
          log('endPageNum:', endPageNum);

          let startPage = new pageable(data.number);

          for (let i = startPageNum; i < (currentPageNum); i++) {
            startPage = startPage.previousOrFirst;
          }
          prevPage = startPage.getPageNumber == 1 ? null : startPage.previousOrFirst;

          if (totalPageNum < endPageNum) {
            endPageNum = totalPageNum;
          }

          for (let i = startPageNum; i <= endPageNum; i++) {
            pageList.push(startPage);
            startPage = startPage.next;
          }
          nextPage = startPage.getPageNumber < totalPageNum ? startPage : null;

          /** Result check */
          console.log("prevPage:", prevPage);
          pageList.forEach(p => console.log(p));
          console.log("nextPage:", nextPage);

        })
    }, false);

    class pageable {
      constructor(page) {
        this.page = page;
      }
      get previousOrFirst() {
        return this.page == 0 ? this : new pageable(this.page - 1);
      }
      get next() {
        return new pageable(this.page + 1);
      }
      get getPageNumber() {
        return this.page;
      }
    }

    log = console.log;

  </script>
</body>

</html>